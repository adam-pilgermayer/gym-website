@use "../abstracts/" as *;

$dropdown-width: 280px;
$dropdown-height: 204px;

.navbar {
	@include flex-row-gap-between;
	@include padding-box($size-8, $size-8);

	position: fixed;
	top: 0;
	left: 0;
	z-index: 10;
	width: 100vw;
	background: transparent;
	font-size: $size-4;
	letter-spacing: $letr-spacing-100;
	text-transform: $upper;
	transition: padding-block 300ms, background-color 300ms, box-shadow 300ms;
	transition-timing-function: ease-in;

	&__logo {
		height: 50px;
		width: 120px;
		object-fit: cover;
	}

	:is(&__nav-list, &__service-btns) {
		display: none;
	}

	@media (min-width: $desktop-width) {

		:is(.hamburger) {
			display: none;
		}

		:is(&__service-btns) {
			display: block
		}

		&__nav-list {
			@include flex-row-gap-between;
			font-size: $size-4;
		}

		:is(&__nav-list-link, &__nav-list-dropdown) {
			@include padding-box($size-6, $size-4);
			display: block;
			position: relative;
			transition: 100ms ease;
			cursor: pointer;

			&::after {
				content: "";
				position: absolute;
				bottom: 0;
				left: 50%;
				transform: translateX(-50%);
				display: block;
				width: 0;
				height: 2px;
				background-color: $color-main;
				transition: all 300ms ease;
			}
		}

		:where(&__nav-list-link, &__nav-list-dropdown):is(:hover, :focus, :active) {
			&::after {
				width: 100%;
			}
		}

		&__nav-list-dropdown {
			position: relative;
			transition: all 200ms ease;
		}

		.nav-dropdown {
			overflow: hidden;
			white-space: nowrap;
			position: absolute;
			padding: 0;
			width: 0;
			height: 0;
			text-align: left;
			background-color: $color-black;
			transition: all 300ms ease;
		}

		&__nav-list-dropdown:is(:hover, :focus) + .nav-dropdown,
		.nav-dropdown:is(:hover, :focus, :focus-within) {
			width: $dropdown-width;
			height: $dropdown-height;
		}

		.nav-dropdown-link {
			@include padding-box($size-1, $size-2);
			display: block;
			width: 100%;
			
			&:is(:hover, :focus, :focus-within) {
				background-color: $color-secondary-darkened;
				color: $color-white;
			}
		}
	}
}

.nav-scrolled {
	padding-block: $size-3;
	background: $color-black;
	box-shadow: 0 0 5px 0 $color-secondary;
}